{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/maja/Code/ZuberSite/components/Section.js\";\nimport React, { useState, useEffect, useRef } from 'react';\n\nvar usePrevious = function usePrevious(value) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n};\n\nvar createObserver = function createObserver(el, handleIntersect) {\n  var options = {\n    root: null,\n    rootMargin: \"0px\",\n    threshold: 0.6\n  };\n  var observer = new IntersectionObserver(handleIntersect, options);\n  observer.observe(el);\n};\n\nvar Section = function Section(_ref) {\n  var baseClass = _ref.baseClass,\n      titleClass = _ref.titleClass,\n      title = _ref.title,\n      children = _ref.children,\n      flexHeight = _ref.flexHeight,\n      name = _ref.name;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      reveal = _useState2[0],\n      setReveal = _useState2[1];\n\n  var _useState3 = useState({\n    y: 0,\n    scrollUp: false\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      scroll = _useState4[0],\n      setScroll = _useState4[1];\n\n  var sectionRef = useRef();\n  useEffect(function () {\n    if (sectionRef.current && name === 'statistics') {\n      createObserver(sectionRef.current, function (entries) {\n        var _entries$ = entries[0],\n            isIntersecting = _entries$.isIntersecting,\n            boundingClientRect = _entries$.boundingClientRect;\n        setReveal(isIntersecting);\n        setScroll(function (prevState) {\n          return {\n            y: boundingClientRect.y,\n            scrollUp: boundingClientRect.y > prevState.y\n          };\n        });\n      });\n    }\n  }, []);\n  return React.createElement(\"section\", {\n    className: \"\".concat(baseClass).concat(flexHeight ? ' section--flex' : ''),\n    id: name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    ref: sectionRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, title && React.createElement(\"h3\", {\n    className: \"section-title t-6 t-grey \".concat(titleClass),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, title), typeof children === 'function' ? children({\n    reveal: reveal,\n    scrollUp: scroll.scrollUp\n  }) : children));\n};\n\nexport default Section;","map":{"version":3,"sources":["/Users/maja/Code/ZuberSite/components/Section.js"],"names":["React","useState","useEffect","useRef","usePrevious","value","ref","current","createObserver","el","handleIntersect","options","root","rootMargin","threshold","observer","IntersectionObserver","observe","Section","baseClass","titleClass","title","children","flexHeight","name","reveal","setReveal","y","scrollUp","scroll","setScroll","sectionRef","entries","isIntersecting","boundingClientRect","prevState"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAC3B,MAAMC,GAAG,GAAGH,MAAM,EAAlB;AAEAD,EAAAA,SAAS,CAAC,YAAM;AACZI,IAAAA,GAAG,CAACC,OAAJ,GAAcF,KAAd;AACH,GAFQ,EAEN,CAACA,KAAD,CAFM,CAAT;AAIA,SAAOC,GAAG,CAACC,OAAX;AACH,CARD;;AAUA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,EAAD,EAAKC,eAAL,EAAyB;AAC5C,MAAMC,OAAO,GAAG;AACZC,IAAAA,IAAI,EAAE,IADM;AAEZC,IAAAA,UAAU,EAAE,KAFA;AAGZC,IAAAA,SAAS,EAAE;AAHC,GAAhB;AAKA,MAAMC,QAAQ,GAAG,IAAIC,oBAAJ,CAAyBN,eAAzB,EAA0CC,OAA1C,CAAjB;AAEAI,EAAAA,QAAQ,CAACE,OAAT,CAAiBR,EAAjB;AACH,CATD;;AAWA,IAAMS,OAAO,GAAG,SAAVA,OAAU,OAAkE;AAAA,MAA/DC,SAA+D,QAA/DA,SAA+D;AAAA,MAApDC,UAAoD,QAApDA,UAAoD;AAAA,MAAxCC,KAAwC,QAAxCA,KAAwC;AAAA,MAAjCC,QAAiC,QAAjCA,QAAiC;AAAA,MAAvBC,UAAuB,QAAvBA,UAAuB;AAAA,MAAXC,IAAW,QAAXA,IAAW;;AAAA,kBAClDvB,QAAQ,CAAC,KAAD,CAD0C;AAAA;AAAA,MACvEwB,MADuE;AAAA,MAC/DC,SAD+D;;AAAA,mBAElDzB,QAAQ,CAAC;AAAE0B,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,QAAQ,EAAE;AAAlB,GAAD,CAF0C;AAAA;AAAA,MAEvEC,MAFuE;AAAA,MAE/DC,SAF+D;;AAG9E,MAAMC,UAAU,GAAG5B,MAAM,EAAzB;AAEAD,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAI6B,UAAU,CAACxB,OAAX,IAAsBiB,IAAI,KAAK,YAAnC,EAAiD;AAC7ChB,MAAAA,cAAc,CAACuB,UAAU,CAACxB,OAAZ,EAAqB,UAACyB,OAAD,EAAa;AAAA,wBACGA,OAAO,CAAC,CAAD,CADV;AAAA,YACpCC,cADoC,aACpCA,cADoC;AAAA,YACpBC,kBADoB,aACpBA,kBADoB;AAG5CR,QAAAA,SAAS,CAACO,cAAD,CAAT;AACAH,QAAAA,SAAS,CAAC,UAAAK,SAAS;AAAA,iBAAK;AAAER,YAAAA,CAAC,EAAEO,kBAAkB,CAACP,CAAxB;AAA2BC,YAAAA,QAAQ,EAAEM,kBAAkB,CAACP,CAAnB,GAAuBQ,SAAS,CAACR;AAAtE,WAAL;AAAA,SAAV,CAAT;AACH,OALa,CAAd;AAMH;AACJ,GATQ,EASN,EATM,CAAT;AAWA,SACI;AAAS,IAAA,SAAS,YAAOR,SAAP,SAAoBI,UAAU,GAAG,gBAAH,GAAsB,EAApD,CAAlB;AAA6E,IAAA,EAAE,EAAGC,IAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAGO,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMV,KAAK,IAAK;AAAI,IAAA,SAAS,qCAA+BD,UAA/B,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6DC,KAA7D,CADhB,EAEM,OAAOC,QAAP,KAAoB,UAApB,GAAiCA,QAAQ,CAAC;AAAEG,IAAAA,MAAM,EAANA,MAAF;AAAUG,IAAAA,QAAQ,EAAEC,MAAM,CAACD;AAA3B,GAAD,CAAzC,GAAmFN,QAFzF,CADJ,CADJ;AAQH,CAxBD;;AA0BA,eAAeJ,OAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\n\nconst usePrevious = (value) => {\n    const ref = useRef();\n\n    useEffect(() => {\n        ref.current = value;\n    }, [value]);\n\n    return ref.current;\n}\n\nconst createObserver = (el, handleIntersect) => {\n    const options = {\n        root: null,\n        rootMargin: \"0px\",\n        threshold: 0.6\n    };\n    const observer = new IntersectionObserver(handleIntersect, options);\n\n    observer.observe(el);\n}\n\nconst Section = ({ baseClass, titleClass, title, children, flexHeight, name }) => {\n    const [reveal, setReveal] = useState(false)\n    const [scroll, setScroll] = useState({ y: 0, scrollUp: false })\n    const sectionRef = useRef()\n\n    useEffect(() => {\n        if (sectionRef.current && name === 'statistics') {\n            createObserver(sectionRef.current, (entries) => {\n                const { isIntersecting, boundingClientRect } = entries[0]\n\n                setReveal(isIntersecting)\n                setScroll(prevState => ({ y: boundingClientRect.y, scrollUp: boundingClientRect.y > prevState.y }))\n            })\n        }\n    }, [])\n\n    return (\n        <section className={ `${ baseClass }${flexHeight ? ' section--flex' : ''}` } id={ name }>\n            <div ref={ sectionRef }>\n                { title &&  <h3 className={ `section-title t-6 t-grey ${titleClass}` }>{ title }</h3> }\n                { typeof children === 'function' ? children({ reveal, scrollUp: scroll.scrollUp }) : children }\n            </div>\n        </section>\n    )\n}\n\nexport default Section\n"]},"metadata":{},"sourceType":"module"}